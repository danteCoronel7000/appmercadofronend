<div class="w-full max-w-4xl mx-auto mt-8 p-4 bg-white shadow-lg rounded-2xl">
  <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Registrar Proveedor</h2>

  <!-- Tabs -->
  <div class="flex border-b border-gray-300 mb-6">
    <button class="flex-1 py-2 text-center font-semibold transition-all duration-200" [ngClass]="{
        'text-blue-600 border-b-4 border-blue-600 bg-blue-50': selectedTab === 'persona',
        'text-gray-600 hover:text-blue-500': selectedTab !== 'persona'
      }" (click)="selectedTab = 'persona'">
      Persona
    </button>

    <button class="flex-1 py-2 text-center font-semibold transition-all duration-200" [ngClass]="{
        'text-blue-600 border-b-4 border-blue-600 bg-blue-50': selectedTab === 'empresa',
        'text-gray-600 hover:text-blue-500': selectedTab !== 'empresa'
      }" (click)="selectedTab = 'empresa'">
      Empresa
    </button>
  </div>

  <!-- Contenido de cada pestaña -->
  <div class="p-6 bg-gray-50 rounded-xl shadow-inner">
    <div *ngIf="selectedTab === 'persona'">
      <form [formGroup]="proveedorFormPersona" class="flex flex-col gap-2 p-6">
        <!--form group anidado-->
        <div formGroupName="persona">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
            <div class="mb-2">
              <label class="block mb-1" for="nombre">Nombres</label>
              <input formControlName="nombre" type="text" id="nombre"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="Ingrese el nombre" />
            </div>
            <div class="mb-2">
              <label class="block mb-1" for="apellido">Apellidos</label>
              <input formControlName="apellido" type="text" id="apellido"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese los apellidos" />
            </div>
            <div class="mb-2 flex items-center gap-2">
              <input formControlName="sexo" type="radio" id="masculino" value="masculino"
                class="px-2 py-2 bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300" />
              <label for="masculino">Masculino</label>
              <input formControlName="sexo" type="radio" id="femenino" value="femenino"
                class="px-2 py-2 bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300" />
              <label for="femenino">femenino</label>
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="fechaNacimiento">fecha Nacimiento</label>
              <input formControlName="fechaNacimiento" type="date" id="fechaNacimiento"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese la fecha de nacimiento" />
            </div>

            <div class="mb-2 flex items-center gap-2">
              <input formControlName="estadoCivil" type="radio" id="soltero" value="soltero"
                class="px-2 py-2 bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300" />
              <label for="soltero">Soltero</label>
              <input formControlName="estadoCivil" type="radio" id="casado" value="casado"
                class="px-2 py-2 bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300" />
              <label for="casado">Casado</label>
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="nacionalidad">Nacionalidad</label>
              <input formControlName="nacionalidad" type="text" id="nacionalidad"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese la nacionalidad" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="direccion">Dirección</label>
              <input formControlName="direccion" type="text" id="direccion"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese la dirección" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="correoElectronico">Correo Electronico</label>
              <input formControlName="correoElectronico" type="text" id="correoElectronico"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el correo electronico" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="telefono">Telefono</label>
              <input formControlName="telefono" type="number" id="telefono"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el documento de identidad" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="documentoIdentidad">Documento de Identidad</label>
              <input formControlName="documentoIdentidad" type="text" id="documentoIdentidad"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el documento de identidad" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="file_input">Subir imagen del producto</label>
              <input type="file" id="file_input" (change)="onFileSelected($event)"
                class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50" />
            </div>
          </div>
        </div>

        <!--botones crar y cancelar-->
        <div class="flex flex-clo sm:flex-row gap-2 justify-center">
          <button type="button" (click)="crearProveedorPersona()"
            class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150"
            [ngClass]="{
            'cursor-not-allowed opacity-50': proveedorFormPersona.invalid,
            'hover:bg-blue-800': proveedorFormPersona.valid
                      }" [disabled]="proveedorFormPersona.invalid">
            Crear Proveedor
          </button>
          <button type="button" [routerLink]="['/listar-proveedores']"
            class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150">
            Cancelar
          </button>
        </div>
      </form>
    </div>

    <div *ngIf="selectedTab === 'empresa'">
      <form [formGroup]="proveedorFormEmpresa" class="flex flex-col gap-2 p-6">
        <div formGroupName="empresa">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
            <div class="mb-2">
              <label class="block mb-1" for="razonSocial">Razon social</label>
              <input formControlName="razonSocial" type="text" id="razonSocial"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="Ingrese razon social" />
            </div>
            <div class="mb-2">
              <label class="block mb-1" for="nombreComercial">Nombre Comercial</label>
              <input formControlName="nombreComercial" type="text" id="nombreComercial"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el nombre del negocio" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="nit">NIT</label>
              <input formControlName="nit" type="text" id="nit"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el NIT" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="direccion">Dirección</label>
              <input formControlName="direccion" type="text" id="direccion"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese la dirección" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="correoElectronico">Correo Electronico</label>
              <input formControlName="correoElectronico" type="text" id="correoElectronico"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el correo electronico" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="telefono">Telefono</label>
              <input formControlName="telefono" type="number" id="telefono"
                class="w-full px-4 py-2 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 transition duration-300 dark:text-gray-800"
                placeholder="ingrese el telefono" />
            </div>

            <div class="mb-2">
              <label class="block mb-1" for="file_input">Subir imagen del proveedor</label>
              <input type="file" id="file_input" (change)="onFileSelected($event)"
                class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50" />
            </div>
          </div>
        </div>
        <!--botones crar y cancelar-->
        <div class="flex flex-clo sm:flex-row gap-2 justify-center">
          <button type="button" (click)="crearProveedorEmpresa()"
            class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150"
            [ngClass]="{
            'cursor-not-allowed opacity-50': proveedorFormEmpresa.invalid,
            'hover:bg-blue-800': proveedorFormEmpresa.valid
                      }" [disabled]="proveedorFormEmpresa.invalid">
            Crear Proveedor
          </button>
          <button type="button" [routerLink]="['/listar-proveedores']"
            class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150">
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>


@if (success) {
  <div class="fixed inset-0 z-50 grid place-items-center bg-white/50 backdrop-blur-sm">
    <div class="flex flex-col items-center justify-center bg-green-100 border border-green-300 text-green-800 rounded-lg p-6 animate-fade-in">
      <svg class="w-16 h-16 text-green-500 mb-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
      </svg>
      <span class="text-lg font-semibold">¡Operación exitosa!</span>
    </div>
  </div>
}